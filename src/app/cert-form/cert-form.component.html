<div><p class="section-title">证书基础信息</p></div>
<div class="cert-info">
  <nz-form-item>
    <nz-form-label>证书类型</nz-form-label>
    <nz-select
      name="certificateTemplate"
      [(ngModel)]="certificateTemplate"
      (ngModelChange)="changeTemplate($event)"
    >
      <nz-option
        *ngFor="let option of certificateTemplateOptions"
        [nzValue]="option.value"
        [nzLabel]="option.label">
      </nz-option>
    </nz-select>
  </nz-form-item>
  <nz-form-item *ngIf="certificateTemplate !== 'dpm'">
    <nz-form-label>认证方向</nz-form-label>
    <nz-select
      name="certDirection" [(ngModel)]="certificate.certDirection"
    >
      <nz-option *ngFor="let option of certificateDirectionOptions" [nzValue]="option.value"
                 [nzLabel]="option.label"></nz-option>
    </nz-select>
  </nz-form-item>


  <nz-form-item *ngIf="certificateTemplate === 'dpm'">
    <nz-form-label>等级</nz-form-label>
    <nz-select
      name="dpmLevel"
      [(ngModel)]="certificate.dpmLevel"
    >
      <nz-option  *ngFor="let option of dpmLevelOptions" [nzValue]="option.value" [nzLabel]="option.label"></nz-option>
    </nz-select>
  </nz-form-item>

  <nz-form-item *ngIf="certificateTemplate === 'tw' || certificateTemplate === 'tw-cor'">
    <nz-form-label>等级</nz-form-label>
    <nz-select
      name="certName" [(ngModel)]="certificate.certName"
    >
      <nz-option  *ngFor="let option of certificateLevelOptions" [nzValue]="option.value" [nzLabel]="option.label"></nz-option>
    </nz-select>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzRequired>颁发者</nz-form-label>
    <input nz-input name="issuer" [(ngModel)]="certificate.issuer" required/>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label>获得时间</nz-form-label>
    <nz-date-picker name="publishedAt" [(ngModel)]="certificate.publishedAt"></nz-date-picker>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label>过期时间</nz-form-label>
    <nz-date-picker class="date-picker" name="expiredAt" [(ngModel)]="certificate.expiredAt"></nz-date-picker>
  </nz-form-item>

  <nz-form-item class="company-area">
    <nz-form-label>认证对象所属公司</nz-form-label>
    <nz-radio-group [(ngModel)]="companyRadio">
      <label nz-radio [nzValue]="companyRadios.THOUGHTWORKS">Thoughtworks</label>
      <label nz-radio [nzValue]="companyRadios.OTHERS">其他公司</label>
    </nz-radio-group>
  </nz-form-item>
  <nz-form-item *ngIf="companyRadio === companyRadios.OTHERS">
    <div class="add-new-company">
      <nz-form-label>认证对象所属公司</nz-form-label>
      <span (click)="onVisibleChange(true)">新增公司</span>
    </div>
    <nz-select
      name="subordinateCompany"
      [(ngModel)]="certificate.subordinateCompany"
    >
      <nz-option  *ngFor="let option of otherCompaniesOptions" [nzValue]="option" [nzLabel]="option"></nz-option>
    </nz-select>
  </nz-form-item>
  <app-add-company-modal *ngIf="isAddCompanyModalVisible"
                         [isVisible]="isAddCompanyModalVisible"
                         (visibleChange)="onVisibleChange($event)"
                         (addCompany)="addCompany($event)"
  ></app-add-company-modal>
</div>

<div><p class="section-title">认证对象信息</p></div>
<div class="photo-upload">
  <app-trainee-photo-upload class="trainee-upload" [photoUrl]="certificate.photoUrl"
                            (photoChange)="onPhotoChanged($event)"></app-trainee-photo-upload>
<!--  <app-logo-photo-upload *ngIf="certificateTemplate === 'tw-cor'" [logoUrl]="certificate.logoUrl"-->
<!--                         (photoChange)="onLogoChanged($event)"></app-logo-photo-upload>-->
</div>
<div class="cert-info">
  <nz-form-item>
    <nz-form-label nzRequired>姓</nz-form-label>
    <input nz-input name="lastName" [(ngModel)]="certificate.lastName" required/>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label nzRequired>名</nz-form-label>
    <input nz-input name="firstName" [(ngModel)]="certificate.firstName" required/>
  </nz-form-item>

  <ng-template [ngIf]="certificateTemplate === 'dpm'">
    <nz-form-item>
      <nz-form-label>姓（拼音）</nz-form-label>
      <input nz-input name="lastNamePinyin" [(ngModel)]="certificate.lastNamePinyin" />
    </nz-form-item>
    <nz-form-item>
      <nz-form-label>名（拼音）</nz-form-label>
      <input nz-input name="firstNamePinyin" [(ngModel)]="certificate.firstNamePinyin" />
    </nz-form-item>
  </ng-template>

  <nz-form-item>
    <nz-form-label>认证对象身份证号</nz-form-label>
    <input nz-input name="idNumber" [(ngModel)]="certificate.idNumber">
  </nz-form-item>

  <nz-form-item>
    <nz-form-label>接收者钱包地址(选填)</nz-form-label>
    <input nz-input name="receiverAddress" [(ngModel)]="certificate.receiverAddress">
  </nz-form-item>
</div>
